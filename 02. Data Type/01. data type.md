#### 01. data type & data variable



##### data type

- 프로그램에서 사용할 수 있는 데이터의 타입 정의한다.

```abap
TYPES dtype [TYPE type|LIKE dobj]
```



##### data variable

- data type을 참고하여 값을 정할 수 있는 변수이다.

```abap
TYPES dtype [TYPE type|LIKE dobj]
```



#### 02. data type의 종류

ABAP 프로그램은 3가지 그룹의 Data Type을 사용할 수 있다.



Data Type 

- <u>Predefined ABAP type</u>

  - <u>kernel 레벨에서 정의되어 있는 기본 데이터 타입이다.</u>
  - C, JAVA의 (c, f, l) 타입과 같이 이미 정의되어 있는 데이터 TYPE이다.

- <u>Local Data Type in Program</u>

  - ABAP 프로그램 내에서 <u>Predefined ABAP Type을 이용하여 Local Type을 생성</u>한다.

  - 또한 <u>Predefined ABAP Type을 조합하여 여러 필드가 추가된 Structure 타입을 정의하여 사용할 수 있다.</u>

    ```ABAP
    TYPES dtype [TYPE type|LIKE dobj]
    ```

- <u>Global Data Type in ABAP Dictionary</u>

  - <u>모든 ABAP 프로그램에서 사용할 수 있는 Global Data Type이다.</u>
  - ABAP Dictionary Data Type은 ABAP 프로그램 내에서 TYPE 구문을 이용할 수 있다.



```
Table(Table Field)  Data Type  Data Element  Structure   Table Type
```

과 같은 ABAP Dictionary Object를 이용해 프로그램 내에 Data Type 또는 Data Variable을 선언하게 된다.

```ABAP
TYPES : types   TYPE table.
DATA : gv_data  LIKE table-field ....
```

Type Group을 선언하여 TYPE을 그룹화하여 사용할 수 있다.

```abap
TYPE-POOLS hktst ...
```



#### 03. Data Variable 선언

1. **Predefined ABAP Type 이용하여 변수 선언**

ABAP에서 제공되는 <u>기본 타입</u>을 이용하여 데이터를 선언하는 방식이다.

```abap
DATA : gv_num     TYPE i,   * int
gv_decj			  TYPE f,   * float
gv_date			  TYPE d,
gv_time			  TYPE t,
gv_text1		  TYPE c,   * char 
gv_text2(2)		  TYPE c,
gv_longtext		  TYPE string.
```

TYPE i,   * int
TYPE f,   * float
TYPE d,
TYPE t,
TYPE c,   * char 
TYPE c,
TYPE string.

위는 ABAP에서 제공되는 기본 타입(Predefined ABAP Type)



2. **프로그램의 Local Type을 이용하여 변수 선언**

<u>Local 프로그램에서 자주 사용하게 되는 데이터 및 구조 TYPE으로 선언</u>하여, <u>프로그램 내에서만 ABAP 기본 데이터 타입처럼 사용할 수 있다.</u>

```ABAP
TYPES : BEGIN of t_struct,
col1 TYPE c,
col2 TYPE i,
col3 TYPE d,
END of t_struct. * Local TYPE 선언

DATA : gs_struct	TYPE t_struct,
	gv_var		LIKE gs_struct-col1.
```



3. **ABAP Dictionary의 Type을 이용하여 변수 선언**

<u>ABAP Dictionary(Table, Structure, Data Element 등)는 모든 프로그램에서 선언하여 사용할 수 있다.</u>

```ABAP
DATA : gv_carried	TYPE s_carr_id,
	gv_connid		TYPE sflight-carrid,
	gv_matnr		TYPE mara-matnr.  * Type in ABAP Dictionary
```

TYPE s_carr_id,
TYPE sflight-carrid,
TYPE mara-matnr.

위는 ABAP Dictionary TYPE



#### 04. DATA 구문

데이터 변수를 선언할 때는 사용하는 구문이다. <u>변수명은 언더라인(_) 기호를 포함하여 30자까지 가능</u>하다.



1. **TYPE type** -> 한 번에 해당 타입으로 변수 여러 개 정의 가능

데이터 변수의 타입을 정의한다. 3가지 타입 유형이 TYPE 구문 다음에 올 수 있다.

```ABAP
DATA : gv_num 		TYPE i.
```

<u>콜론(:) 기호는 동일한 명령어를 쉼표(,)로 구분하여 마침표(.)를 만날 때가지 실행하도록 한다.</u>

<u>명령어를 수행하고 동일한 기능을 여러 번 실행할 수 있도록 해준다.</u>

예를 들어, 다음과 같이 콜론(:) 기호를 이용하여 변수 2개를 한번에 선언할 수 있다.

ex)

```abap
DATA gv_num1 TYPE I,
DATA gv_num2 TYPE I.
```

↓

```abap
DATA : gv_num1 TYPE I,
		gv_num2 TYPE I.
```



2. **LIKE num** -> 같은 타입의 변수를 LIKE 하나로 쉽게 정의

<u>앞에서 생성한 Data Variable인 gv_num1과 동일한 타입의 변수를 선언할 때 사용된다.</u>

타입이 있는 모든 데이터 변수(Field, Parameter, Structure, 시스템 변수..)를 사용할 수 있다.

```abap
DATA : gv_num2 LIKE gv_num1.
```



3. **VALUE int**

<u>모든 데이터 타입은 Initial Value가 존재한다.</u>

DATA 구문을 사용할 때, <u>VALUE 옵션을 사용하면 기본 Initial Value 대신에 int로 초깃값을 설정</u>한다.

<u>VALUE IS INITIAL 구문을 사용하면 Data Type의 Initial Value로 지정된다.</u>(생략해도 된다.)

<u>Constants 변수를 선언할 때는 VALUE 옵션은 필수 사항</u>이다.

```ABAP
DATA : gv_num  TYPE i    VALUE 123,
			   gv_flag   VALUE 'X',
			   gv_val    VALUE IS INITIAL,
			   gv_idx    LIKE sy-tabix	VALUE 45.
```



4. **LENGHT n**

필드의 길이를 설정한다. <u>C, N, P, X 타입에만 사용할 수 있다.</u>

```abap
DATA : gv_num	TYPE  n	  LENGTH  2.
```



5. **DECIMALS n**

<u>Data Type P에서만 사용 가능하며 1~14 사이의 소수 자리 수를 설정</u>한다.

```abap
DATA : gv_num   TYPE p   DECIMALS  3.
```



ex)

```abap
REPORT Z02_01.
TYPES t_var TYPE c LENGHT 20.
DATA gv_var TYPE t_var.
gv_var = 'Hello ABAP'.
WRITE gv_var.
```

-> t_var이란 Local Type 선언, 이 타입 참고해 gv_var이라는 Data Variable 선언.

프로그램 내에서 자주 사용되는 TYPE은 Local Type을 정의하는 것이 효율적.

Local Type을 먼저 선언할 필요는 없다. 

즉, 변수 선언 시 바로 TYPE을 지정할 수 있다.

```abap
DATA gv_var TYPE c LENGTH 20.
```



--------------------

#### abap 기본 문법

1. ABAP 프로그램의 한 문장은 마침표 기호(.)로 마무리한다.

- WRITE gv_val.

2. 프로그램 기능을 설명하는 주석은 다음 2가지가 존재한다

- *기호는 한 라인 전체를 주석처리한다.
  - *This is  comment
- " 기호는 뒷부분의 문자열을 주석처리한다.
  - WRITE gv_val. "Part of line is comment.

3. 문자열은 ' ' 기호로 처리한다.

- gv_val = 'Easy ABAP'.

4. 명령어는 공백(SPACE)를 두고 처리한다.

- gv_val ='Easy ABAP'. => X
- gv_val = 'Easy ABAP'. => O